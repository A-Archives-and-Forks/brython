<!doctype html>
<html>
<head>
<meta charset="utf-8">
<style>
body,td,th{
    font-family:sans-serif;
    font-size:12px;
}
</style>

<script type="text/javascript" src="/src/brython_builtins.js"></script>

<script type="text/javascript" src="/src/py_ast_classes.js"></script>
<script type="text/javascript" src="/src/stdlib_paths.js"></script>
<script type="text/javascript" src="/src/unicode_data.js"></script>
<script type="text/javascript" src="/src/version_info.js"></script>


<script type="text/javascript" src="/src/py_tokens.js"></script>
<script type="text/javascript" src="/src/python_tokenizer.js"></script>
<script type="text/javascript" src="/src/py_ast.js"></script>
<script type="text/javascript" src="/src/py2js.js"></script>
<script type="text/javascript" src="/src/loaders.js"></script>
<script type="text/javascript" src="/src/py_utils.js"></script>
<script type="text/javascript" src="/src/py_object.js"></script>
<script type="text/javascript" src="/src/py_type.js"></script>
<script type="text/javascript" src="/src/py_builtin_functions.js"></script>
<script type="text/javascript" src="/src/py_sort.js"></script>
<script type="text/javascript" src="/src/py_exceptions.js"></script>
<script type="text/javascript" src="/src/py_range_slice.js"></script>
<script type="text/javascript" src="/src/py_bytes.js"></script>
<script type="text/javascript" src="/src/py_set.js"></script>
<script type="text/javascript" src="/src/py_import.js"></script>
<script type="text/javascript" src="/src/py_string.js"></script>
<script type="text/javascript" src="/src/py_int.js"></script>
<script type="text/javascript" src="/src/py_long_int.js"></script>
<script type="text/javascript" src="/src/py_float.js"></script>
<script type="text/javascript" src="/src/py_complex.js"></script>
<script type="text/javascript" src="/src/py_dict.js"></script>
<script type="text/javascript" src="/src/py_list.js"></script>
<script type="text/javascript" src="/src/js_objects.js"></script>
<script type="text/javascript" src="/src/py_generator.js"></script>
<script type="text/javascript" src="/src/py_dom.js"></script>
<script type="text/javascript" src="/src/py_pattern_matching.js"></script>
<script type="text/javascript" src="/src/async.js"></script>
<script type="text/javascript" src="/src/py_flags.js"></script>
<script type="text/javascript" src="/src/builtin_modules.js"></script>
<script type="text/javascript" src="/src/ast_to_js.js"></script>
<script type="text/javascript" src="/src/symtable.js"></script>

<!-- scripts for PEG parser -->
<script type="text/javascript" src="/src/action_helpers_generated_version.js"></script>
<script type="text/javascript" src="/src/string_parser.js"></script>
<script type="text/javascript" src="/src/number_parser.js"></script>
<script type="text/javascript" src="/src/python_parser_peg_version.js"></script>
<script type="text/javascript" src="/src/pegen.js"></script>
<script type="text/javascript" src="/src/gen_parse.js"></script>

<script type="text/javascript" src="/src/brython_ready.js"></script>

<script type="text/python" src="show_source.py"></script>

</head>
<body>

<script type="text/py_disabled" id="s1">
from browser import alert
alert('change type to text/python')

</script>

<script type="text/python" id="s2">
from browser import bind, document, html

@bind('#btn1', 'click')
def add_script(ev):
    script = html.SCRIPT("from browser import alert\nalert('injected script')",
               type='text/python')
    document <= script

@bind('#btn2', 'click')
def add_script(ev):
    script = html.SCRIPT(type='text/python',
                         src="injected.py")
    document <= script

</script>

<button id="btn">Run py_disabled</button>
<button id="btn1">Add script without src</button>
<button id="btn2">Add script with src</button>

<script> // src="module1.js">
document.getElementById('btn').addEventListener('click',
  function(ev){
    console.log('click')
    var res = __BRYTHON__.runPythonSource(document.getElementById('s1').textContent)
    console.log('js', res)
  }
)
</script>


</body>
</html>
